\usepackage[T2A]{fontenc}

\usepackage{pscyr}
\usepackage[cp1251]{inputenc}

\usepackage{totcount}
\regtotcounter{section}
\regtotcounter{page}
\regtotcounter{figure}
\newtotcounter{bibitem}
\def\oldbibitem{} \let\oldbibitem=\bibitem
\def\bibitem{\stepcounter{bibitem}\oldbibitem}

\usepackage{multirow}
\usepackage{setspace}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{array}

\usepackage{listings}
\lstdefinestyle{cpp}{
belowcaptionskip=\baselineskip,
xleftmargin=\parindent,
language=c++,
showstringspaces=false,
basicstyle=\footnotesize\ttfamily,
basicstyle=\footnotesize,
captionpos=b,
frame=L,
numbers=left
}
\lstset{style=cpp}
\renewcommand{\lstlistingname}{Листинг}
\renewcommand{\lstlistlistingname}{Список листингов}

\usepackage{algorithm}
\renewcommand{\thealgorithm}{\arabic{algorithm}}

\usepackage[tableposition=top]{caption}
\DeclareCaptionLabelFormat{gostfigure}{Рисунок #2}
\DeclareCaptionLabelFormat{gosttable}{Таблица #2}
\DeclareCaptionLabelSeparator{gost}{~---~}
\captionsetup{labelsep=gost}
\captionsetup[figure]{labelformat=gostfigure}
\captionsetup[table]{labelformat=gosttable}

\usepackage{ntheorem}
\theoremstyle{plain}
\theorembodyfont{}
\theoremsymbol{}
\theoremprework{}
\theorempostwork{}
\theoremseparator{.}

\newtheorem{theorem}{Теорема}[section]
\newtheorem{lemma}[theorem]{Лемма}
\newtheorem{definition}{Определение}[section]
\newtheorem{statement}{Утверждение}

\makeatletter
\def\@biblabel#1{#1. }

\linespread{1.3}
\extrarowheight=2pt
\allowdisplaybreaks[4]

\clubpenalty=10000
\widowpenalty=10000